<div class="menu-container">
	<h2>Men√∫ del Restaurante</h2>

	<div *ngIf="loading" class="loading">Cargando productos...</div>
	<div *ngIf="error && !loading" class="error">{{ error }}</div>

	<div *ngIf="!loading && !error && menus.length === 0" class="empty">No hay productos en el men√∫.</div>

	<div *ngIf="!loading && !error && menus.length > 0" class="menu-grid">
		<div *ngFor="let menu of menus" class="menu-card">
			<!-- Imagen del producto -->
			<div class="menu-image" *ngIf="menu.product?.imageUrl">
				<img [src]="menu.product?.imageUrl" [alt]="menu.product?.name" />
			</div>
			<div class="menu-image menu-image-placeholder" *ngIf="!menu.product?.imageUrl">
				<span>üçΩÔ∏è</span>
			</div>

			<!-- Informaci√≥n del producto -->
			<div class="menu-info">
				<h3>{{ menu.product?.name || 'Producto' }}</h3>
				<p>{{ menu.product?.description || 'Sin descripci√≥n' }}</p>
				<p class="price">${{ menu.price }}</p>
				
				<!-- Indicador de carrito -->
				@if (isInCart(menu.id)) {
					<div class="in-cart-indicator">
						<i class="bi bi-check-circle-fill"></i>
						{{ getCartQuantity(menu.id) }} en el carrito
					</div>
				}
				
				<!-- Bot√≥n agregar al carrito -->
				<button 
					class="btn-add-cart" 
					[disabled]="!menu.availability"
					[class.in-cart]="isInCart(menu.id)"
					(click)="addToCart(menu)">
					@if (menu.availability) {
						@if (isInCart(menu.id)) {
							<i class="bi bi-plus-circle"></i> Agregar m√°s
						} @else {
							<i class="bi bi-cart-plus"></i> Agregar al carrito
						}
					} @else {
						<i class="bi bi-x-circle"></i> No disponible
					}
				</button>
			</div>
		</div>
	</div>
</div>
