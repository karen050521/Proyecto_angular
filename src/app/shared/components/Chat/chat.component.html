<div class="flex flex-col h-screen max-w-2xl mx-auto p-4">
  <div class="bg-white rounded-lg shadow-lg flex-1 flex flex-col overflow-hidden">
    <!-- Header -->
    <div class="bg-blue-600 text-white p-4">
      <h1 class="text-xl font-bold">Asistente de Domicilios</h1>
    </div>
    <!-- Messages Container -->
    <div class="flex-1 overflow-y-auto p-4 space-y-4">
      <ng-container *ngFor="let message of messages">
        <div [ngClass]="message.type === 'user' ? 'flex justify-end' : 'flex justify-start'">
          <div [ngClass]="message.type === 'user' ? 
                  'max-w-[80%] rounded-lg p-3 bg-blue-600 text-white rounded-br-none'
                  : 'max-w-[80%] rounded-lg p-3 bg-gray-200 text-gray-800 rounded-bl-none'">
            {{ message.text }}
          </div>
        </div>
      </ng-container>
      <div *ngIf="isLoading" class="flex justify-start">
        <div class="bg-gray-200 text-gray-800 rounded-lg rounded-bl-none p-3 max-w-[80%]">
          <div class="flex space-x-2">
            <div class="w-2 h-2 bg-gray-600 rounded-full animate-bounce"></div>
            <div class="w-2 h-2 bg-gray-600 rounded-full animate-bounce" style="animation-delay:.2s"></div>
            <div class="w-2 h-2 bg-gray-600 rounded-full animate-bounce" style="animation-delay:.4s"></div>
          </div>
        </div>
      </div>
      <div #messagesEnd></div>
    </div>
    <!-- Input Form -->
    <form (submit)="sendMessage($event)" class="p-4 border-t">
      <div class="flex space-x-4">
        <input
          type="text"
          [(ngModel)]="inputMessage"
          name="inputMessage"
          placeholder="Escribe tu mensaje aquÃ­..."
          class="flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"
        />
        <button
          type="submit"
          [disabled]="isLoading"
          class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400"
        >
          Enviar
        </button>
      </div>
    </form>
  </div>
</div>